import Pusher from 'pusher-js';

window.Pusher = Pusher;

var pusher = new Pusher(import.meta.env.VITE_PUSHER_APP_KEY,
  {
    cluster: import.meta.env.VITE_PUSHER_APP_CLUSTER ?? 'ap2',
    authEndpoint: 'http://127.0.0.1:8000/broadcasting/auth',
    auth: {
      headers: {
        Authorization: `Bearer ${localStorage.getItem('guestUserToken')}`, // Add the authentication token to the headers
      },
    },
  }
);
export default pusher;
